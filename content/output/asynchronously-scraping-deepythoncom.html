<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Asynchronously Scraping deepython.com</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="A Pelican Blog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">A Pelican Blog </a></h1>
                <nav><ul>
                    <li><a href="/category/deep-learning.html">Deep Learning</a></li>
                    <li><a href="/category/docker.html">Docker</a></li>
                    <li class="active"><a href="/category/misc.html">Misc</a></li>
                    <li><a href="/category/other.html">Other</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/asynchronously-scraping-deepythoncom.html" rel="bookmark"
           title="Permalink to Asynchronously Scraping deepython.com">Asynchronously Scraping deepython.com</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-10-26T13:10:00+00:00">
                Published: Thu 26 October 2017
        </abbr>

<p>In <a href="/category/misc.html">Misc</a>.</p>

</footer><!-- /.post-info -->      <p>I wanted to learn more about how to do asynchronous web scraping in python3 using the asyncio and aiohttp libraries. Let's assume I have a large number of urls that I want to scrape, and they are all contained in a list, say 10,000 elements long. In synchronous scraping, the client running the python script will send a requst to url of the server hosting the html content, wait for a response containing this html content, proceed to the next url, send another request and so on. </p>
<p>In contrast, asynchronous scraping with the asyncio and aiohttp libraries will create a queue of scraping tasks, and while a particular task is waiting for the web content to arrive from the server, it will go ahead and request content from other web pages while waiting. This allows for making requests and receiving content concurrently instead of in a sequential fashion, enabling a large number of web requests to be completed in a short time. </p>
<p>In <a href="https://github.com/claytonblythe/async_examples/blob/master/notebooks/deepython_requests.ipynb">this github repo</a> I show that scraping the html content from the home page of my website <a href="http://deepython.com">deepython.com</a> (served from my raspberry pi) 10,000 times only takes about twenty seconds, compared to several minutes in the sequential example. </p>
<p>This difference would only be exacerbated if you have urls and web servers that take a wide range of time to respond. So here this can give speedups for web scraping of 10x or 100x+ if you are lucky! I think that there are some interesting applications for this, doing large scale scraping of websites. </p>
<p>Next it is useful to use some type of proxies and random user agents, to make it more difficult for websites to tell that you are sending an unnatural number of requests. </p>
<p>Until next time,</p>
<h4>Clayton Blythe | <em>Deep Python</em></h4>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>